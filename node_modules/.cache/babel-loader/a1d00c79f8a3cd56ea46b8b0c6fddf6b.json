{"ast":null,"code":"var _jsxFileName = \"D:\\\\music_app\\\\src\\\\Songplayers.js\";\nimport React, { useState, useRef, useEffect } from 'react';\n\nfunction Songplayers({\n  currentsong,\n  looop,\n  setlooop,\n  setsongs,\n  setcurrentsong,\n  isplaying,\n  setisplaying,\n  audioRef,\n  songinfo,\n  setsonginfo,\n  songs\n}) {\n  useEffect(() => {\n    const Newgana = songs.map(song => {\n      if (song.id === currentsong.id) {\n        return { ...song,\n          Active: true\n        };\n      } else {\n        return { ...song,\n          Active: false\n        };\n      }\n    });\n    setsongs(Newgana);\n  }, [currentsong]);\n\n  const timehandler = e => {\n    const current = e.target.currentTime;\n    const duration = e.target.duration;\n    const roundcurrent = Math.round(current);\n    const roundduration = Math.round(duration);\n    const animation = Math.round(roundcurrent / roundduration * 100);\n    setsonginfo({ ...songinfo,\n      currentTime: current,\n      duration,\n      animationper: animation\n    });\n  };\n\n  const clickhandler = () => {\n    if (isplaying) {\n      audioRef.current.pause();\n      setisplaying(!isplaying);\n    } else {\n      audioRef.current.play();\n      setisplaying(!isplaying);\n    }\n  };\n\n  const Mathcorrect = e => {\n    return Math.floor(e / 60) + ':' + ('0' + Math.floor(e % 60)).slice(-2);\n  };\n\n  const changehandle = e => {\n    audioRef.current.currentTime = e.target.value;\n    setsonginfo({ ...songinfo,\n      currentTime: e.target.value\n    });\n  };\n\n  const skip_handle = direction => {\n    const currentIndex = songs.findIndex(song => song.id === currentsong.id);\n\n    if (direction == \"S_forward\") {\n      setcurrentsong(songs[(currentIndex + 1) % songs.length]);\n    } else if (direction == \"S_backward\") {\n      if (currentIndex - 1 == -1) {\n        setcurrentsong(songs[songs.length - 1]);\n        /*....................add.............................*/\n\n        if (isplaying) {\n          const promise = audioRef.current.play();\n          if (promise !== undefined) promise.then(audio => {\n            audioRef.current.play();\n          });\n        } //.................remove.................................//\n\n\n        return;\n      }\n\n      setcurrentsong(songs[(currentIndex - 1) % songs.length]);\n    }\n\n    if (isplaying) {\n      const promise = audioRef.current.play();\n      if (promise !== undefined) promise.then(audio => {\n        audioRef.current.play();\n      });\n    }\n  };\n\n  const trackAni = {\n    transform: `translateX(${songinfo.animationper}%)`\n  };\n  const anmat = {\n    background: `linear-gradient(to right, ${currentsong.Color[0]}, ${currentsong.Color[1]})`\n  };\n\n  const ender = async () => {\n    const currentIndex = songs.findIndex(song => song.id === currentsong.id);\n\n    if (looop) {\n      await setcurrentsong(songs[(currentIndex + 1) % songs.length]);\n      if (isplaying) audioRef.current.play();\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"player\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 2\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"time_control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 2\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 2\n    }\n  }, Mathcorrect(songinfo.currentTime)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"track\",\n    style: anmat,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 2\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"range\",\n    min: 0,\n    max: songinfo.duration || 0,\n    value: songinfo.currentTime,\n    onChange: changehandle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 2\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"animation_track\",\n    style: trackAni,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 2\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 2\n    }\n  }, songinfo.duration ? Mathcorrect(songinfo.duration) : \"0:00\", \" \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"play_control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 2\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => skip_handle('S_backward'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 2\n    }\n  }, \"S_backward\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: clickhandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 2\n    }\n  }, \"play\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => skip_handle('S_forward'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 2\n    }\n  }, \"S_forward\"), /*#__PURE__*/React.createElement(\"audio\", {\n    onLoadedMetadata: timehandler,\n    onTimeUpdate: timehandler,\n    ref: audioRef,\n    src: currentsong.Audio,\n    onEnded: ender,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 2\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 2\n    }\n  }, \"Loop\")));\n}\n\nexport default Songplayers;","map":{"version":3,"sources":["D:/music_app/src/Songplayers.js"],"names":["React","useState","useRef","useEffect","Songplayers","currentsong","looop","setlooop","setsongs","setcurrentsong","isplaying","setisplaying","audioRef","songinfo","setsonginfo","songs","Newgana","map","song","id","Active","timehandler","e","current","target","currentTime","duration","roundcurrent","Math","round","roundduration","animation","animationper","clickhandler","pause","play","Mathcorrect","floor","slice","changehandle","value","skip_handle","direction","currentIndex","findIndex","length","promise","undefined","then","audio","trackAni","transform","anmat","background","Color","ender","Audio"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,MAA1B,EAAkCC,SAAlC,QAAkD,OAAlD;;AACA,SAASC,WAAT,CAAqB;AAACC,EAAAA,WAAD;AAAcC,EAAAA,KAAd;AAAqBC,EAAAA,QAArB;AAA+BC,EAAAA,QAA/B;AAAyCC,EAAAA,cAAzC;AAAyDC,EAAAA,SAAzD;AAAoEC,EAAAA,YAApE;AAAkFC,EAAAA,QAAlF;AAA6FC,EAAAA,QAA7F;AAAuGC,EAAAA,WAAvG;AAAoHC,EAAAA;AAApH,CAArB,EAAgJ;AAChJZ,EAAAA,SAAS,CAAC,MAAM;AACf,UAAMa,OAAO,GAAGD,KAAK,CAACE,GAAN,CAAWC,IAAD,IAAQ;AACjC,UAAIA,IAAI,CAACC,EAAL,KAAYd,WAAW,CAACc,EAA5B,EAA+B;AAC9B,eAAM,EACL,GAAGD,IADE;AAELE,UAAAA,MAAM,EAAC;AAFF,SAAN;AAIA,OALD,MAKK;AACH,eAAM,EACL,GAAGF,IADE;AAELE,UAAAA,MAAM,EAAC;AAFF,SAAN;AAKA;AAED,KAdc,CAAhB;AAkBCZ,IAAAA,QAAQ,CAACQ,OAAD,CAAR;AAED,GArBQ,EAqBN,CAACX,WAAD,CArBM,CAAT;;AAuBC,QAAMgB,WAAW,GAAGC,CAAD,IAAK;AACxB,UAAMC,OAAO,GAAED,CAAC,CAACE,MAAF,CAASC,WAAxB;AACC,UAAMC,QAAQ,GAAEJ,CAAC,CAACE,MAAF,CAASE,QAAzB;AACA,UAAMC,YAAY,GAAGC,IAAI,CAACC,KAAL,CAAWN,OAAX,CAArB;AACA,UAAMO,aAAa,GAAGF,IAAI,CAACC,KAAL,CAAWH,QAAX,CAAtB;AACA,UAAMK,SAAS,GAAEH,IAAI,CAACC,KAAL,CAAYF,YAAY,GAACG,aAAd,GAA6B,GAAxC,CAAjB;AACDhB,IAAAA,WAAW,CAAC,EAAC,GAAGD,QAAJ;AAAcY,MAAAA,WAAW,EAACF,OAA1B;AAAoCG,MAAAA,QAApC;AAA8CM,MAAAA,YAAY,EAACD;AAA3D,KAAD,CAAX;AACC,GAPD;;AASA,QAAME,YAAY,GAAE,MAAI;AAGvB,QAAGvB,SAAH,EAAa;AACZE,MAAAA,QAAQ,CAACW,OAAT,CAAiBW,KAAjB;AACAvB,MAAAA,YAAY,CAAC,CAACD,SAAF,CAAZ;AACA,KAHD,MAGK;AACJE,MAAAA,QAAQ,CAACW,OAAT,CAAiBY,IAAjB;AACAxB,MAAAA,YAAY,CAAC,CAACD,SAAF,CAAZ;AAEA;AAGD,GAbD;;AAcA,QAAM0B,WAAW,GAAGd,CAAD,IAAK;AACvB,WACCM,IAAI,CAACS,KAAL,CAAWf,CAAC,GAAC,EAAb,CAAD,GAAqB,GAArB,GAA2B,CAAC,MAAMM,IAAI,CAACS,KAAL,CAAWf,CAAC,GAAC,EAAb,CAAP,EAAyBgB,KAAzB,CAA+B,CAAC,CAAhC,CAD3B;AAIA,GALD;;AAMA,QAAMC,YAAY,GAAGjB,CAAD,IAAM;AACzBV,IAAAA,QAAQ,CAACW,OAAT,CAAiBE,WAAjB,GAA8BH,CAAC,CAACE,MAAF,CAASgB,KAAvC;AACA1B,IAAAA,WAAW,CAAC,EAAC,GAAGD,QAAJ;AAAcY,MAAAA,WAAW,EAACH,CAAC,CAACE,MAAF,CAASgB;AAAnC,KAAD,CAAX;AAGA,GALD;;AAMA,QAAMC,WAAW,GAAIC,SAAD,IAAa;AAEhC,UAAMC,YAAY,GAAG5B,KAAK,CAAC6B,SAAN,CAAiB1B,IAAD,IAAUA,IAAI,CAACC,EAAL,KAAYd,WAAW,CAACc,EAAlD,CAArB;;AACA,QAAGuB,SAAS,IAAI,WAAhB,EAA4B;AAC3BjC,MAAAA,cAAc,CAACM,KAAK,CAAC,CAAC4B,YAAY,GAAE,CAAf,IAAoB5B,KAAK,CAAC8B,MAA3B,CAAN,CAAd;AACA,KAFD,MAEO,IAAGH,SAAS,IAAI,YAAhB,EAA6B;AAClC,UAAIC,YAAY,GAAC,CAAd,IAAoB,CAAC,CAAxB,EAA0B;AACzBlC,QAAAA,cAAc,CAACM,KAAK,CAACA,KAAK,CAAC8B,MAAN,GAAc,CAAf,CAAN,CAAd;AACH;;AACA,YAAGnC,SAAH,EAAa;AACZ,gBAAMoC,OAAO,GAAGlC,QAAQ,CAACW,OAAT,CAAiBY,IAAjB,EAAhB;AACA,cAAGW,OAAO,KAAKC,SAAf,EACAD,OAAO,CAACE,IAAR,CAAcC,KAAD,IAAS;AACrBrC,YAAAA,QAAQ,CAACW,OAAT,CAAiBY,IAAjB;AACA,WAFD;AAMA,SAZ2B,CAa3B;;;AACF;AACI;;AACD1B,MAAAA,cAAc,CAACM,KAAK,CAAC,CAAC4B,YAAY,GAAE,CAAf,IAAoB5B,KAAK,CAAC8B,MAA3B,CAAN,CAAd;AAED;;AACD,QAAGnC,SAAH,EAAa;AAEZ,YAAMoC,OAAO,GAAGlC,QAAQ,CAACW,OAAT,CAAiBY,IAAjB,EAAhB;AACA,UAAGW,OAAO,KAAKC,SAAf,EACAD,OAAO,CAACE,IAAR,CAAcC,KAAD,IAAS;AACrBrC,QAAAA,QAAQ,CAACW,OAAT,CAAiBY,IAAjB;AACA,OAFD;AAMA;AAEF,GArCA;;AAsCD,QAAMe,QAAQ,GAAE;AACfC,IAAAA,SAAS,EAAG,cAAatC,QAAQ,CAACmB,YAAa;AADhC,GAAhB;AAGA,QAAMoB,KAAK,GAAC;AACZC,IAAAA,UAAU,EAAG,6BAA4BhD,WAAW,CAACiD,KAAZ,CAAkB,CAAlB,CAAqB,KAAIjD,WAAW,CAACiD,KAAZ,CAAkB,CAAlB,CAAqB;AAD3E,GAAZ;;AAGA,QAAMC,KAAK,GAAG,YAAU;AAEvB,UAAMZ,YAAY,GAAG5B,KAAK,CAAC6B,SAAN,CAAiB1B,IAAD,IAAUA,IAAI,CAACC,EAAL,KAAYd,WAAW,CAACc,EAAlD,CAArB;;AACC,QAAGb,KAAH,EAAS;AACR,YAAMG,cAAc,CAACM,KAAK,CAAC,CAAC4B,YAAY,GAAE,CAAf,IAAoB5B,KAAK,CAAC8B,MAA3B,CAAN,CAApB;AACF,UAAGnC,SAAH,EAAcE,QAAQ,CAACW,OAAT,CAAiBY,IAAjB;AAEb;AACD,GARD;;AAUC,sBACA;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIC,WAAW,CAACvB,QAAQ,CAACY,WAAV,CAAf,CAFA,eAGA;AAAK,IAAA,SAAS,EAAC,OAAf;AAAuB,IAAA,KAAK,EAAE2B,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAO,IAAA,IAAI,EAAC,OAAZ;AAAoB,IAAA,GAAG,EAAE,CAAzB;AAA4B,IAAA,GAAG,EAAEvC,QAAQ,CAACa,QAAT,IAAqB,CAAtD;AAAyD,IAAA,KAAK,EAAEb,QAAQ,CAACY,WAAzE;AAAsF,IAAA,QAAQ,EAAEc,YAAhG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,eAEA;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAiC,IAAA,KAAK,EAAEW,QAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFA,CAHA,eAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIrC,QAAQ,CAACa,QAAT,GAAoBU,WAAW,CAACvB,QAAQ,CAACa,QAAV,CAA/B,GAAqD,MAAzD,MAPA,CADA,eAWA;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAQ,IAAA,OAAO,EAAE,MAAKe,WAAW,CAAC,YAAD,CAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,eAEA;AAAQ,IAAA,OAAO,EAAER,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFA,eAGA;AAAQ,IAAA,OAAO,EAAE,MAAKQ,WAAW,CAAC,WAAD,CAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAHA,eAKA;AAAO,IAAA,gBAAgB,EAAEpB,WAAzB;AAAsC,IAAA,YAAY,EAAEA,WAApD;AAAiE,IAAA,GAAG,EAAET,QAAtE;AAAgF,IAAA,GAAG,EAAEP,WAAW,CAACmD,KAAjG;AAAwG,IAAA,OAAO,EAAED,KAAjH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALA,eAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YANA,CAXA,CADA;AA0BA;;AAGD,eAAenD,WAAf","sourcesContent":["import React, { useState, useRef, useEffect} from 'react';\r\nfunction Songplayers({currentsong, looop, setlooop ,setsongs, setcurrentsong, isplaying, setisplaying ,audioRef,  songinfo, setsonginfo, songs}){\r\nuseEffect(() => {\r\n\tconst Newgana = songs.map((song)=>{\r\n\t\tif (song.id === currentsong.id){\r\n\t\t\treturn{\r\n\t\t\t\t...song,\r\n\t\t\t\tActive:true,\r\n\t\t\t};\r\n\t\t}else{\r\n\t\t\t\treturn{\r\n\t\t\t\t\t...song,\r\n\t\t\t\t\tActive:false,\r\n\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t);\r\n\t\tsetsongs(Newgana);\r\n\r\n}, [currentsong])\r\n\t\r\n\tconst timehandler =(e)=>{\r\n\tconst current= e.target.currentTime;\r\n\t const duration =e.target.duration;\r\n\t const roundcurrent = Math.round(current);\r\n\t const roundduration = Math.round(duration);\r\n\t const animation =Math.round((roundcurrent/roundduration)*100)\r\n\tsetsonginfo({...songinfo, currentTime:current , duration, animationper:animation})\r\n\t}\r\n\t\r\n\tconst clickhandler =()=>{\r\n\t\t\r\n\t\r\n\t\tif(isplaying){\r\n\t\t\taudioRef.current.pause();\r\n\t\t\tsetisplaying(!isplaying)\r\n\t\t}else{\r\n\t\t\taudioRef.current.play();\r\n\t\t\tsetisplaying(!isplaying)\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\r\n\t}\r\n\tconst Mathcorrect =(e)=>{\r\n\t\treturn(\r\n\t\t(Math.floor(e/60)) + ':' + ('0' + Math.floor(e%60)).slice(-2)\r\n\t\t)\r\n\t\t\r\n\t}\r\n\tconst changehandle =(e) =>{\r\n\t\taudioRef.current.currentTime= e.target.value;\r\n\t\tsetsonginfo({...songinfo, currentTime:e.target.value})\r\n\t\t\r\n\t\t\r\n\t}\r\n\tconst skip_handle = (direction)=>{\r\n\r\n\t\tconst currentIndex = songs.findIndex((song) => song.id === currentsong.id)\r\n\t\tif(direction == \"S_forward\"){\r\n\t\t\tsetcurrentsong(songs[(currentIndex +1) % songs.length] );\r\n\t\t} else if(direction == \"S_backward\"){\r\n\t\t\t\tif((currentIndex-1) == -1){\r\n\t\t\t\t\tsetcurrentsong(songs[songs.length -1])\r\n\t\t/*....................add.............................*/\r\n\t\tif(isplaying){\r\n\t\t\tconst promise = audioRef.current.play();\r\n\t\t\tif(promise !== undefined)\r\n\t\t\tpromise.then((audio)=>{\r\n\t\t\t\taudioRef.current.play();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t)\r\n\t\t}\r\n\t\t //.................remove.................................//\r\n\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tsetcurrentsong(songs[(currentIndex -1) % songs.length] );\t\t\r\n\r\n\t\t}\r\n\t\tif(isplaying){\r\n\t\t\r\n\t\t\tconst promise = audioRef.current.play();\r\n\t\t\tif(promise !== undefined)\r\n\t\t\tpromise.then((audio)=>{\r\n\t\t\t\taudioRef.current.play();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n}\r\nconst trackAni ={\r\n\ttransform: `translateX(${songinfo.animationper}%)`\r\n}\r\nconst anmat={\r\nbackground: `linear-gradient(to right, ${currentsong.Color[0]}, ${currentsong.Color[1]})`\r\n}\r\nconst ender = async() =>{\r\n\r\n\tconst currentIndex = songs.findIndex((song) => song.id === currentsong.id)\r\n\t\tif(looop){\r\n\t\t\tawait setcurrentsong(songs[(currentIndex +1) % songs.length] );\r\n\tif(isplaying) audioRef.current.play();\r\n\t\r\n\t}\r\n}\r\n\r\n\treturn(\r\n\t<div className='player'>\r\n\t<div className=\"time_control\">\r\n\t\r\n\t<p>{Mathcorrect(songinfo.currentTime)}</p>\r\n\t<div className=\"track\" style={anmat}>\r\n\t<input type=\"range\" min={0} max={songinfo.duration || 0} value={songinfo.currentTime} onChange={changehandle}></input>\r\n\t<div className=\"animation_track\" style={trackAni} ></div>\r\n\t</div>\r\n\t<p>{songinfo.duration ? Mathcorrect(songinfo.duration) : \"0:00\"} </p>\r\n\t\r\n\t</div>\r\n\t<div className=\"play_control\">\r\n\t<button onClick={()=> skip_handle('S_backward')}>S_backward</button>\r\n\t<button onClick={clickhandler}>play</button>\r\n\t<button onClick={()=> skip_handle('S_forward')}>S_forward</button>\r\n\t\r\n\t<audio onLoadedMetadata={timehandler} onTimeUpdate={timehandler} ref={audioRef} src={currentsong.Audio} onEnded={ender}></audio>\r\n\t<button>Loop</button>\r\n\t</div>\r\n\r\n\t</div>\r\n\t)\r\n\t\r\n\t\r\n\t\r\n}\r\n\r\n\r\nexport default Songplayers\r\n"]},"metadata":{},"sourceType":"module"}